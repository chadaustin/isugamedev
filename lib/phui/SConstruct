# build with 'scons'
# see doc/build.txt

import sys
import os
import string

execfile('glut_libs.py')


Default('.')        # build everything by default

# Setup a debug target
CXXFLAGS = '-Wall'
if ARGUMENTS.get('debug'):
   CXXFLAGS.extend(['-g', '-DDEBUG_MEMORY=1'])

PREFIX = '/usr/local'
if ARGUMENTS.get('prefix'):
   PREFIX = ARGUMENTS['prefix']

# setup the environment
env = Environment(CPPPATH = '#',
                  LIBPATH = '#phui',
                  ENV = os.environ,
                  CXXFLAGS = CXXFLAGS)
Export('env GLUT_LIBS PREFIX')


# Determine the font libraries
FONT_LIBS = ['gltt', 'ttf']
Export('env FONT_LIBS')

# process subdirectories
SConscript('phui/SConscript')
SConscript('examples/SConscript')

env.Alias('install', PREFIX)
