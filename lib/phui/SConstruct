# build with 'scons'
# see doc/build.txt

import sys
import os
import string


Default('.')        # build everything by default


# find libraries
execfile('glut_libs.py')
FONT_LIBS = ['gltt', 'ttf']
Export('GLUT_LIBS FONT_LIBS')


# debug or release build?
CXXFLAGS = ['-Wall']
if ARGUMENTS.get('debug'):
   CXXFLAGS.append['-g']


# get install prefix for install target
PREFIX = '/usr/local'
if ARGUMENTS.get('prefix'):
   PREFIX = ARGUMENTS['prefix']
Export('PREFIX')


# create the base environment
env = Environment(LIBPATH = '#phui',
                  CPPPATH = ['#', '#phui'],
                  ENV = os.environ,
                  CXXFLAGS = CXXFLAGS)


Export('env')
SConscript('phui/SConscript')
SConscript('examples/SConscript')


# install target
env.Alias('install', PREFIX)
