from os import path

Import('env PREFIX')

classes = Split("""
   Application
   BoundsCollisionDetector
   CollisionDesc
   GameManager
   IntroState
   Jukebox
   RigidBody
   State
   SoundEffectManager
   SoundManager
   Texture
   cubeGeometry
   GameState
   Player
   Camera
""")

sources = Split("""
    Main.cpp
""")

headers = Split("""
   CollisionDetector.h
   NullCollisionDetector.h
   SpatialIndex.h
""")

sources.extend(map(lambda n: n + '.cpp', classes))
headers.extend(map(lambda n: n + '.h', classes))

env2 = env.Copy()
env2['LIBS'][0:0] = ['audiere']

programs = [
    env2.Program(target = 'midworld', source = sources)
]

env2.Install(path.join(PREFIX, 'bin'), programs)
